Lrn.config(
  ['$stateProvider', '$urlRouterProvider', '$locationProvider',
    function($stateProvider, $urlRouterProvider, $locationProvider) {
  $stateProvider
    .state('index', {
      url: '/',
      templateUrl: 'main/index.html',
      controller: 'IndexController'
    })

    .state('nav', {
      abstract: true,
      templateUrl: 'shared/nav.html',
      controller: 'NavController'
    })

    .state('nav.class', {
      url: '/class',
      views: {
        'content': {
          templateUrl: 'class/class.html',
          controller: 'ClassController'
        }
      }
    })

    .state('nav.checkout', {
      url: '/checkout',
      views: {
        'content': {
          templateUrl: 'class/checkout.html',
          controller: 'CheckoutController'
        }
      }
    })

    .state('nav.show', {
      url: '/class/show/:id',
      views: {
        'content': {
          templateUrl: 'class/show.html',
          controller: 'ClassController'
        }
      }
    })

    .state('nav.voucher', {
      url: '/class/voucher',
      views: {
        'content': {
          templateUrl: 'main/voucher.html',
          controller: 'VoucherController'
        }
      }
    })

    .state('list', {
      url: '/subscribers',
      templateUrl: 'main/list.html',
      controller: 'ListController'
    })

    .state('nav.profile', {
      url: '/profile',
      views: {
        'content': {
          templateUrl: 'student/profile.html',
          controller: 'StudentController'
        }
      }
    })

  $urlRouterProvider.otherwise('/');
  $locationProvider.html5Mode({
  enabled: true,
  requireBase: false
});
}]).run
    ['$rootScope', '$state',
    function($rootScope, $state) {
    $rootScope.$state = $state;
}];
